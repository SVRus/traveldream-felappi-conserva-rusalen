<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"> 
<h:head></h:head> 
<body> 

<h:form id="form">  
  
    <p:dataTable id="cars" var="car" value="#{tableBean.mediumCarsModel}" paginator="true" rows="10"  
                 selection="#{tableBean.selectedCar}">  
  
        <f:facet name="header">  
            RadioButton Based Selection  
        </f:facet>  
  
        <p:column selectionMode="single" style="width:2%" />  
  
        <p:column headerText="Model" style="width:25%">  
            #{car.model}  
        </p:column>  
  
        <p:column headerText="Year" style="width:25%">  
            #{car.year}  
        </p:column>  
  
        <p:column headerText="Manufacturer" style="width:24%">  
            #{car.manufacturer}  
        </p:column>  
  
        <p:column headerText="Color" style="width:24%">  
            #{car.color}  
        </p:column>  
  
        <f:facet name="footer">  
            <p:commandButton id="viewButton" value="View" icon="ui-icon-search"  
                             update=":form:displaySingle" oncomplete="PF('singleCarDialog').show()"/>  
        </f:facet>  
    </p:dataTable>  
  
    <br />  
  
    <p:dataTable id="multiCars" var="car" value="#{tableBean.mediumCarsModel}" paginator="true" rows="10"  
                 selection="#{tableBean.selectedCars}">  
  
        <f:facet name="header">  
            Checkbox Based Selection  
        </f:facet>  
  
        <p:column selectionMode="multiple" style="width:2%" />  
  
        <p:column headerText="Model" style="width:25%">  
            #{car.model}  
        </p:column>  
  
        <p:column headerText="Year" style="width:25%">  
            #{car.year}  
        </p:column>  
  
        <p:column headerText="Manufacturer" style="width:24%">  
            #{car.manufacturer}  
        </p:column>  
  
        <p:column headerText="Color" style="width:24%">  
            #{car.color}  
        </p:column>  
  
        <f:facet name="footer">  
            <p:commandButton id="multiViewButton" value="View" icon="ui-icon-search"  
                             update=":form:displayMulti" oncomplete="PF('multiCarDialog').show()"/>  
       	 <p:commandButton id="provaAction" value="Aggiorna" icon="ui-icon-search"  
                             update=":form:multiCars" action="#{tableBean.aggiorna}"/>  
        
        </f:facet>  
        
        
    </p:dataTable>  
  
    <p:dialog id="dialog" header="Car Detail" widgetVar="singleCarDialog" resizable="false"  
              showEffect="fade" hideEffect="explode">  
  
        <h:panelGrid id="displaySingle" columns="2" cellpadding="4">  
  
            <f:facet name="header">  
                <p:graphicImage value="/images/cars/#{tableBean.selectedCar.manufacturer}.jpg"/>  
            </f:facet>  
  
            <h:outputText value="Model:" />  
            <h:outputText value="#{tableBean.selectedCar.model}" style="font-weight:bold"/>  
  
            <h:outputText value="Year:" />  
            <h:outputText value="#{tableBean.selectedCar.year}" style="font-weight:bold"/>  
  
            <h:outputText value="Manufacturer:" />  
            <h:outputText value="#{tableBean.selectedCar.manufacturer}" style="font-weight:bold"/>  
  
            <h:outputText value="Color:" />  
            <h:outputText value="#{tableBean.selectedCar.color}" style="font-weight:bold"/>  
        </h:panelGrid>  
    </p:dialog>  
  
    <p:dialog id="multiDialog" header="Car Detail" widgetVar="multiCarDialog"  
              height="300" showEffect="fade" hideEffect="explode">  
  
        <p:dataList id="displayMulti" value="#{tableBean.selectedCars}" var="selectedCar">  
            Model: #{selectedCar.model}, Year: #{selectedCar.year}  
        </p:dataList>  
         <p:commandButton id="provaAction" value="Aggiorna" icon="ui-icon-search"  
                             update=":form:multiCars" action="#{tableBean.aggiorna}"
                              oncomplete= "multiCarDialog.hide();"/>  
         
         <p:commandButton id="loginButton" value="Crea" update=":form:multiCars"   
                    actionListener="#{tableBean.aggiornaL}" 
                    oncomplete="handleLoginRequest(xhr, status, args)" />
                                         
      
    </p:dialog>  
     <script type="text/javascript">  
      function handleLoginRequest(xhr, status, args) {  
        
            PF('multiCarDialog').hide();  
           
    }  
      </script>
  <p:dataTable var="car" value="#{tableBean.mediumCarsModel}" rowKey="#{car.model}" paginator="true" rows="10"  
                selection="#{tableBean.selectedCar}" selectionMode="single" filteredValue="#{tableBean.filteredCars}" id="carsTable">  
  
        <p:ajax event="rowSelect" update=":form:display" oncomplete="carDialog.show()" />  
  
        <f:facet name="header">  
            List of Cars  
        </f:facet>  
  
        <p:column headerText="Model" sortBy="#{car.model}" filterBy="#{car.model}" id="model">  
            #{car.model}  
        </p:column>  
  
        <p:column headerText="Year" sortBy="year" filterBy="year" id="year">  
            #{car.year}  
        </p:column>  
  
        <p:column headerText="Manufacturer" sortBy="manufacturer" filterBy="manufacturer" id="manufacturer">  
            #{car.manufacturer}  
        </p:column>  
  
        <p:column headerText="Color" sortBy="color" filterBy="color" id="color">  
            #{car.color}"  
        </p:column>  
  
    </p:dataTable>  
  
    <p:dialog header="Car Detail" widgetVar="carDialog" resizable="false"  
              width="200" showEffect="explode" hideEffect="explode">  
  
        <h:panelGrid id="display" columns="2" cellpadding="4">  
  
            <f:facet name="header">  
                <p:graphicImage value="/images/cars/#{tableBean.selectedCar.manufacturer}.jpg"/>  
            </f:facet>  
  
            <h:outputText value="Model:" />  
            <h:outputText value="#{tableBean.selectedCar.model}" id="model"/>  
  
            <h:outputText value="Year:" />  
            <h:outputText value="#{tableBean.selectedCar.year}" id="year"/>  
  
            <h:outputText value="Manufacturer:" />  
            <h:outputText value="#{tableBean.selectedCar.manufacturer}" id="manufacturer"/>  
  
            <h:outputText value="Color:" />  
            <h:outputText value="#{tableBean.selectedCar.color}" id="color"/>  
        </h:panelGrid>  
    </p:dialog>  
</h:form>  

  
    

                      
</body> 
</html>
                      