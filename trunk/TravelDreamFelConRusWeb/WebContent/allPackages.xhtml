<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"> 
    <h:head></h:head> 
    <body> 
        <p:layout fullPage="true">  
  
        <p:layoutUnit position="north" size="100" header="Top" resizable="true" closable="true" collapsible="true">  
            <h:outputText value="North unit content." />  
        </p:layoutUnit>  
      
        <p:layoutUnit position="south" size="100" header="Bottom" resizable="true" closable="true" collapsible="true">  
            <h:outputText value="South unit content." />  
        </p:layoutUnit>  
      
        <p:layoutUnit position="west" size="200" header="Left" resizable="true" closable="true" collapsible="true">  
            <h:outputText value="West unit content." />  
        </p:layoutUnit>  
      
        <p:layoutUnit position="east" size="200" header="Right" resizable="true" closable="true" collapsible="true" effect="drop">  
            <h:outputText value="Right unit content." />
            <p:button outcome="temp" value="Gestisci prodotti" icon="ui-icon-star">  
            <f:param name="productId" value="10" />  
            </p:button>  
            <p:button outcome="temp" value="Gestisci pacchetti" icon="ui-icon-star">  
            <f:param name="pacId" value="10" />  
            </p:button>  
             <p:button action="#{packageManagement.selection}" value="Naviga" icon="ui-icon-star">  
             
            </p:button>  
             <p:commandButton type="button" action="#{packageManagement.selection}" value="Naviga" icon="ui-icon-star" />  
             
            
        </p:layoutUnit>  
      
      <p:layoutUnit position="center">  
	  <h:form id="form">
	   
    
 <p:dataTable var="travelPackage" value="#{packageManagement.packageModel}" rowKey="#{travelPackage.name}" paginator="true" rows="10"  
                selection="#{packageManagement.selectedTravelPackage}" selectionMode="single" 
               id="hoteltable"
                 rowsPerPageTemplate="10,15,50">  
    

  
                <f:facet name="header">
                    Lista TravelPackage
                </f:facet>  
                
                <p:column  headerText="Nome" sortBy="#{TravelPackage.name}"  id="name">
                    
                    
                 #{travelPackage.name}  
        		</p:column>  
        		<p:column  headerText="Descrizione" sortBy="#{TravelPackage.description}"  id="description">
                    
                    
                 #{travelPackage.description}  
        		</p:column> 
        		 <p:column  headerText="Data Inizio" sortBy="#{travelPackage.time_start}"  id="timeStart">  
                 #{travelPackage.time_start}  
                 </p:column> 
                 <p:column  headerText="Data Fine" sortBy="#{travelPackage.time_end}"  id="timeEnd">  
                 #{travelPackage.time_end}  
                 </p:column> 
                	
               
               <f:facet name="footer">
                    <p:commandButton id="effectsDialogButton" value="Nuovo TravelPackage" onclick="PF('dlg3').show();" type="button" /> 
                </f:facet>
				
              </p:dataTable>
         </h:form>   
         
       
    
    
        </p:layoutUnit>  
      
        </p:layout>  
          <p:dialog header="Nuovo TravelPackage" widgetVar="dlg3" showEffect="explode" hideEffect="bounce" height="100">  
     <h:form>
     <h:panelGrid columns="2" cellpadding="5">  
            <h:outputLabel for="username" value="Nome:" />  
            <p:inputText value="#{packageManagement.name}"   
                    id="username" required="true" label="username" />  
              
            <f:facet name="footer">  
                <p:commandButton id="loginButton" value="Crea" update=":form:hoteltable"   
                    actionListener="#{packageManagement.update}"  
                   oncomplete="dlg3.hide();"/>  
                
               
            </f:facet>  
        </h:panelGrid>  
        </h:form>
        
        
        	</p:dialog> 
        	
        <script type="text/javascript">  
    function handleLoginRequest(xhr, status, args) {  
        if( !args.loggedIn) {  
            PF('dlg3').jq.effect("shake", { times:5 }, 100);  
        }   
        else {  
            PF('dlg3').hide();  
            $('#loginLink').fadeOut();  
        }  
    }  
</script>  	    
             <p:dialog header="Modifica TravelPackage" widgetVar="userDialog" resizable="false" id="userDlg" > 
               <h:form id="userDetailForm">
                <p:panelGrid id="display" columns="2" cellpadding="4" style="margin:0 auto;">   
			<h:outputText value="Nome :"></h:outputText>
                        <h:outputText value="#{packageManagement.selectedTravelPackage.name}" />
						<h:inputText value="#{packageManagement.selectedTravelPackage.name}"/>
      		<f:facet name="footer">
                     
                            <p:commandButton value="Update" update=":form:hoteltable"  
                            oncomplete="userDialog.hide(); " actionListener="#{packageManagement.update}"/>
                    </f:facet>
			
                </p:panelGrid> 
             </h:form>
          </p:dialog> 
                         
             
         
      
<p:growl id="growl" showDetail="true" life="5000" />
         
<script type="text/javascript">  
    function handleSubmitRequest(xhr, status, args, dialogName, formName) {  
            dialog = jQuery('#'+dialogName);
        if(args.validationFailed) {  
            dialog.effect("shake", { times:3 }, 100);  
        } else {
            clearForm(formName);
            newUserDialog.hide(); 
            userDialog.hide(); 
        }  
    }
    function clearForm(formName){
        jQuery('#'+formName).each(function(){
	        this.reset();
	});
    }
</script> 
 
        
    </body> 
    
    
</html>