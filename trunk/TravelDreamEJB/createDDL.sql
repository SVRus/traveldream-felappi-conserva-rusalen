CREATE TABLE REGISTEREDUSER (IDREGISTEREDUSER BIGINT AUTO_INCREMENT NOT NULL, REGISTEREDUSER_TYPE VARCHAR(31), EMAIL VARCHAR(255), NAME VARCHAR(255), PASSWORD VARCHAR(255), SURNAME VARCHAR(255), TELEPHONE VARCHAR(255), USERNAME VARCHAR(255) UNIQUE, PRIMARY KEY (IDREGISTEREDUSER))
CREATE TABLE CUSTOMER (IDREGISTEREDUSER BIGINT NOT NULL, PRIMARY KEY (IDREGISTEREDUSER))
CREATE TABLE TRAVELPACKAGE (IDTRAVELPACKAGE BIGINT AUTO_INCREMENT NOT NULL, TRAVELPACKAGE_TYPE VARCHAR(31), DESCRIPTION VARCHAR(255), FRIENDCODE BIGINT, IDCUSTOMERBUYER BIGINT, IDCUSTOMERFRIENDOWNER BIGINT, NAME VARCHAR(255) UNIQUE, PURCHASETIME DATETIME, TIME_END DATETIME, TIME_START DATETIME, PRIMARY KEY (IDTRAVELPACKAGE))
CREATE TABLE CUSTOMIZEDTRAVELPACKAGE (IDTRAVELPACKAGE BIGINT NOT NULL, idregistereduser BIGINT, PRIMARY KEY (IDTRAVELPACKAGE))
CREATE TABLE EMPLOYEE (IDREGISTEREDUSER BIGINT NOT NULL, CODE BIGINT, PRIMARY KEY (IDREGISTEREDUSER))
CREATE TABLE PRODUCT (IDPRODUCT BIGINT AUTO_INCREMENT NOT NULL, PRODUCT_TYPE VARCHAR(31), COST FLOAT, EMPLOYEECREATOR BIGINT, TIMEEND DATETIME, TIMESTART DATETIME, idtravelpackage BIGINT, PRIMARY KEY (IDPRODUCT))
CREATE TABLE FLIGHT (IDPRODUCT BIGINT NOT NULL, AREA_END VARCHAR(255), AREA_START VARCHAR(255), FLIGHT_COMPANY VARCHAR(255), MORE_INFO VARCHAR(255), PLACE_END VARCHAR(255), PLACE_START VARCHAR(255), PRIMARY KEY (IDPRODUCT))
CREATE TABLE GIFTLIST (IDGIFTLIST BIGINT AUTO_INCREMENT NOT NULL, BOUGHT TINYINT(1) default 0, GIFTLISTCODE BIGINT, IDBUYER BIGINT, idCustomer BIGINT, MOREINFO VARCHAR(255), travelPackageFK BIGINT, PRIMARY KEY (IDGIFTLIST))
CREATE TABLE HOTEL (IDPRODUCT BIGINT NOT NULL, AREA VARCHAR(255), MORE_INFO VARCHAR(255), NAME VARCHAR(255), PLACE VARCHAR(255), ROOM_TYPE VARCHAR(255), PRIMARY KEY (IDPRODUCT))
CREATE TABLE OUTING (IDPRODUCT BIGINT NOT NULL, AREA VARCHAR(255), DESCRIPTION VARCHAR(255), PRIMARY KEY (IDPRODUCT))
CREATE TABLE PREPACKEDTRAVELPACKAGE (IDTRAVELPACKAGE BIGINT NOT NULL, EMPLOYEECREATOR BIGINT, PRIMARY KEY (IDTRAVELPACKAGE))
CREATE TABLE GROUPS (IDGROUP VARCHAR(255) NOT NULL, PRIMARY KEY (IDGROUP))
CREATE TABLE friendship (friendA BIGINT NOT NULL, friendB BIGINT NOT NULL, PRIMARY KEY (friendA, friendB))
CREATE TABLE USER_GROUP (USERNAME VARCHAR(255) NOT NULL, GROUPID VARCHAR(255) NOT NULL, PRIMARY KEY (USERNAME, GROUPID))
ALTER TABLE CUSTOMER ADD CONSTRAINT FK_CUSTOMER_IDREGISTEREDUSER FOREIGN KEY (IDREGISTEREDUSER) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE TRAVELPACKAGE ADD CONSTRAINT FK_TRAVELPACKAGE_IDCUSTOMERBUYER FOREIGN KEY (IDCUSTOMERBUYER) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE TRAVELPACKAGE ADD CONSTRAINT FK_TRAVELPACKAGE_IDCUSTOMERFRIENDOWNER FOREIGN KEY (IDCUSTOMERFRIENDOWNER) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE CUSTOMIZEDTRAVELPACKAGE ADD CONSTRAINT FK_CUSTOMIZEDTRAVELPACKAGE_IDTRAVELPACKAGE FOREIGN KEY (IDTRAVELPACKAGE) REFERENCES TRAVELPACKAGE (IDTRAVELPACKAGE)
ALTER TABLE CUSTOMIZEDTRAVELPACKAGE ADD CONSTRAINT FK_CUSTOMIZEDTRAVELPACKAGE_idregistereduser FOREIGN KEY (idregistereduser) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE EMPLOYEE ADD CONSTRAINT FK_EMPLOYEE_IDREGISTEREDUSER FOREIGN KEY (IDREGISTEREDUSER) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE PRODUCT ADD CONSTRAINT FK_PRODUCT_idtravelpackage FOREIGN KEY (idtravelpackage) REFERENCES TRAVELPACKAGE (IDTRAVELPACKAGE)
ALTER TABLE PRODUCT ADD CONSTRAINT FK_PRODUCT_EMPLOYEECREATOR FOREIGN KEY (EMPLOYEECREATOR) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE FLIGHT ADD CONSTRAINT FK_FLIGHT_IDPRODUCT FOREIGN KEY (IDPRODUCT) REFERENCES PRODUCT (IDPRODUCT)
ALTER TABLE GIFTLIST ADD CONSTRAINT FK_GIFTLIST_travelPackageFK FOREIGN KEY (travelPackageFK) REFERENCES TRAVELPACKAGE (IDTRAVELPACKAGE)
ALTER TABLE GIFTLIST ADD CONSTRAINT FK_GIFTLIST_idCustomer FOREIGN KEY (idCustomer) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE HOTEL ADD CONSTRAINT FK_HOTEL_IDPRODUCT FOREIGN KEY (IDPRODUCT) REFERENCES PRODUCT (IDPRODUCT)
ALTER TABLE OUTING ADD CONSTRAINT FK_OUTING_IDPRODUCT FOREIGN KEY (IDPRODUCT) REFERENCES PRODUCT (IDPRODUCT)
ALTER TABLE PREPACKEDTRAVELPACKAGE ADD CONSTRAINT FK_PREPACKEDTRAVELPACKAGE_idTravelPackage FOREIGN KEY (idTravelPackage) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE PREPACKEDTRAVELPACKAGE ADD CONSTRAINT FK_PREPACKEDTRAVELPACKAGE_IDTRAVELPACKAGE FOREIGN KEY (IDTRAVELPACKAGE) REFERENCES TRAVELPACKAGE (IDTRAVELPACKAGE)
ALTER TABLE friendship ADD CONSTRAINT FK_friendship_friendB FOREIGN KEY (friendB) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE friendship ADD CONSTRAINT FK_friendship_friendA FOREIGN KEY (friendA) REFERENCES REGISTEREDUSER (IDREGISTEREDUSER)
ALTER TABLE USER_GROUP ADD CONSTRAINT FK_USER_GROUP_USERNAME FOREIGN KEY (USERNAME) REFERENCES REGISTEREDUSER (USERNAME)
ALTER TABLE USER_GROUP ADD CONSTRAINT FK_USER_GROUP_GROUPID FOREIGN KEY (GROUPID) REFERENCES GROUPS (IDGROUP)
